import{aw as s,q as i,p as a,aR as n}from"./chunks/framework.CNwJN8zI.js";const F=JSON.parse('{"title":"Node 安装与配置","description":"","frontmatter":{},"headers":[],"relativePath":"extend/node-install.md","filePath":"extend/node-install.md","lastUpdated":1737515301000}'),e={name:"extend/node-install.md"},t=n(`<h1 id="node-安装与配置" tabindex="-1">Node 安装与配置 <a class="header-anchor" href="#node-安装与配置" aria-label="Permalink to &quot;Node 安装与配置&quot;">​</a></h1><h2 id="linux-环境安装-node" tabindex="-1">Linux 环境安装 Node <a class="header-anchor" href="#linux-环境安装-node" aria-label="Permalink to &quot;Linux 环境安装 Node&quot;">​</a></h2><p>Node 官网已经把 linux 下载版本更改为已编译好的版本了，我们可以直接下载解压后使用：</p><ul><li><a href="https://nodejs.org/en/download/package-manager" target="_blank" rel="noreferrer">官网下载地址</a></li><li><a href="https://nodejs.org/dist/v16.20.2/" target="_blank" rel="noreferrer">文件下载地址</a></li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/node/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 文件夹不存在就创建一个</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://nodejs.org/dist/v16.20.2/node-v16.20.2-linux-x64.tar.xz</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 下载</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> node-v16.20.2-linux-x64.tar.xz</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">              //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 解压</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> node-v16.20.2-linux-x64/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                        //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 进入解压目录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./bin/node</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                      //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 执行node命令</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 查看版本</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># v16.20.2</span></span></code></pre></div><blockquote><p>如果执行 <code>./bin/node -v</code> 报错，提示无法执行二进制文件：可执行文件格式错误。可能是 <code>node</code> 文件和 <code>linux</code> 版本对不上， 尝试下载对应的 <code>arm</code> 格式的包进行解压，比如上面的包对应的 <code>arm</code> 的地址为： <a href="https://nodejs.org/dist/v16.20.2/node-v16.20.2-linux-arm64.tar.xz" target="_blank" rel="noreferrer">https://nodejs.org/dist/v16.20.2/node-v16.20.2-linux-arm64.tar.xz</a></p></blockquote><p>解压文件的 <code>bin</code> 目录底下包含了 <code>node、npm</code> 等命令，我们可以使用 <code>ln</code> 命令来设置软连接：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ln</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/node/node-v16.20.2-linux-x64/bin/node</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/bin/node</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">node</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># v16.20.2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ln</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/node/node-v16.20.2-linux-x64/bin/npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/bin/npm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 8.19.4</span></span></code></pre></div><h2 id="npm-g-全局安装问题" tabindex="-1">npm -g 全局安装问题 <a class="header-anchor" href="#npm-g-全局安装问题" aria-label="Permalink to &quot;npm -g 全局安装问题&quot;">​</a></h2><blockquote><p>npm install -g xxx 全局安装后，xxx 无法使用</p></blockquote><ol><li>修改<code>/etc/profile</code> 文件</li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/profile</span></span></code></pre></div><ol start="2"><li>在末尾添加以下内容</li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$PATH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:/usr/local/node/node-v16.20.2-linux-x64/bin&quot;</span></span></code></pre></div><h2 id="linux-环境升级-node" tabindex="-1">Linux 环境升级 Node <a class="header-anchor" href="#linux-环境升级-node" aria-label="Permalink to &quot;Linux 环境升级 Node&quot;">​</a></h2><h3 id="使用-n-模块来管理-node-的各种版本" tabindex="-1">使用 n 模块来管理 node 的各种版本 <a class="header-anchor" href="#使用-n-模块来管理-node-的各种版本" aria-label="Permalink to &quot;使用 n 模块来管理 node 的各种版本&quot;">​</a></h3><p>查看当前 node 版本</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">node</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># v16.20.2 # 初始node版本</span></span></code></pre></div><ol><li>通过 npm 安装 n</li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> n</span></span></code></pre></div><ol start="2"><li>通过 n 安装指定版本</li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">n</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 14.21.3</span></span></code></pre></div><ol start="3"><li>再查看当前 node 版本：</li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">node</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># v16.20.2</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 没有变化</span></span></code></pre></div><h3 id="升级异常" tabindex="-1">升级异常 <a class="header-anchor" href="#升级异常" aria-label="Permalink to &quot;升级异常&quot;">​</a></h3><p>如果你发现 <code>node</code> 版本没有任何变化，那最有可能的情况就是，你的 <code>node</code> 的安装目录和 <code>n</code> 默认的路径不一样</p><p>查看 <code>node</code> 当前安装路径</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">which</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> node</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># /opt/node/bin/node</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 输出的路径只是举例</span></span></code></pre></div><p>而 <code>n</code> 默认安装路径是 <code>/usr/local</code>，若你的 <code>node</code> 不是在此路径下，<code>n</code> 切换版本就不能把 <code>bin、lib、include、share</code> 复制该路径中， 所以我们必须通过 <code>N_PREFIX</code> 变量来修改 <code>n</code> 的默认 <code>node</code> 安装路径</p><p>编辑环境配置文件：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.bash_profile</span></span></code></pre></div><p>将下面两行代码插入到文件末尾：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> N_PREFIX</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/usr/bin/node </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 此路径是上面安装后设置的软连接；方便以后切换</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$N_PREFIX/bin:$PATH</span></span></code></pre></div><blockquote><p><code>N_PREFIX</code> 是一个环境变量，通常在 <code>Unix</code> 和 <code>类Unix</code> 系统中使用。它指定了 <code>Node.js</code> 安装的位置的前缀路径</p></blockquote><p>保存退出</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 按键盘Esc</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">:wq</span></span></code></pre></div><p>执行 source 使修改生效</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.bash_profile</span></span></code></pre></div><p>确认一下环境变量是否生效</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $N_PREFIX</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># /usr/bin/node</span></span></code></pre></div><p>这时候我们重新安装：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">n</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 14.21.3</span></span></code></pre></div><p>再查看当前 node 版本：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">node</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># v14.21.3</span></span></code></pre></div><p>说明修改成功</p>`,45),l=[t];function p(h,d,o,k,c,r){return a(),i("div",null,l)}const u=s(e,[["render",p]]);export{F as __pageData,u as default};
